import Foundation
import SwiftAgent

// MARK: - Dimension Generation Response

/// Response from task-specific dimension generation.
///
/// The LLM generates evaluation dimensions tailored to the specific task.
@Generable
public struct DimensionGenerationResponse: Sendable {
    @Guide(description: "Task-specific evaluation dimensions (up to 3)")
    public let dimensions: [GeneratedDimension]
}

/// Individual dimension generated by LLM.
@Generable
public struct GeneratedDimension: Sendable {
    @Guide(description: "Dimension name (e.g., Technical Accuracy, Source Diversity)")
    public let name: String

    @Guide(description: "Description of what this dimension evaluates")
    public let description: String

    @Guide(description: "Importance of this dimension (0.0-1.0)", .range(0.0...1.0))
    public let importance: Double

    @Guide(description: "Criteria for score 1")
    public let rubricLow: String

    @Guide(description: "Criteria for score 5")
    public let rubricMid: String

    @Guide(description: "Criteria for score 10")
    public let rubricHigh: String
}

// MARK: - Dimension Score Response

/// Response from dimension scoring.
///
/// The LLM evaluates the research output on a specific dimension.
@Generable
public struct DimensionScoreResponse: Sendable {
    @Guide(description: "Score (1-10)", .range(1...10))
    public let score: Int

    @Guide(description: "Reasoning for this score (with specific evidence)")
    public let reasoning: String

    @Guide(description: "Specific quotes or examples supporting the score (up to 3)")
    public let evidence: [String]

    @Guide(description: "Suggestions for improvement")
    public let suggestions: [String]
}

// MARK: - Overall Quality Response

/// Response from overall quality assessment.
///
/// Summarizes the quality evaluation across all dimensions.
@Generable
public struct OverallQualityResponse: Sendable {
    @Guide(description: "Overall quality summary")
    public let summary: String

    @Guide(description: "Key strengths (2-3 items)")
    public let strengths: [String]

    @Guide(description: "Key weaknesses (2-3 items)")
    public let weaknesses: [String]

    @Guide(description: "Priority improvement suggestions (2-3 items)")
    public let priorityImprovements: [String]
}
